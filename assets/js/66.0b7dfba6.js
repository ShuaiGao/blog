(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{394:function(s,_,e){"use strict";e.r(_);var v=e(4),t=Object(v.a)({},(function(){var s=this,_=s._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[_("p",[s._v("修改"),_("code",[s._v("/etc/my.cnf")]),s._v("配置文件")]),s._v(" "),_("p",[s._v("增加"),_("code",[s._v("skip-grant-tables")])]),s._v(" "),_("p",[s._v("重启 mysql")]),s._v(" "),_("p",[_("code",[s._v("/etc/init.d/mysql restart or /etc/init.d/mysqld restart")])]),s._v(" "),_("p",[s._v("使用 #mysql")]),s._v(" "),_("p",[_("code",[s._v("update user set authentication_string=password('填入新密码”') where user='root'; flush privileges;")])]),s._v(" "),_("p",[s._v("创建数据库，并设置默认编码\n"),_("code",[s._v("mysql> CREATE DATABASE")]),s._v("test_db"),_("code",[s._v("DEFAULT CHARACTER SET utf8;")])]),s._v(" "),_("p",[s._v("导入 sql 脚本\n"),_("code",[s._v("mysql> use test_db; mysql> source /home/gaoshuai/test.sql")])]),s._v(" "),_("p",[s._v("mysqldump 备份不建议在脚本中直接使用密码，可以通过以下方式解决")]),s._v(" "),_("p",[s._v("##1.在你的用户根目录下面创建一个.my.cnf 文件添加以下内容（隐藏文件）")]),s._v(" "),_("p",[_("code",[s._v('[mysqldump] user="username" password ="password"')])]),s._v(" "),_("p",[s._v("##2.添加完后修改他的权限防止其他用户使用")]),s._v(" "),_("p",[_("code",[s._v("chmod 600 .my.cnf")])]),s._v(" "),_("p",[s._v("##3.下面就可以不输入密码直接使用了，修改备份脚本")]),s._v(" "),_("p",[_("code",[s._v("/usr/bin/mysqldump -uroot db >db.sql")])]),s._v(" "),_("p",[s._v("注意 mysqldump 默认不会 dump 存储过程，如果需要 dump 存储过程，请使用-R 参数")]),s._v(" "),_("p",[s._v("使用下面语句查看存储过程")]),s._v(" "),_("p",[_("code",[s._v("shell SELECT \\* FROM information_schema.")]),s._v("ROUTINES"),_("code",[s._v('WHERE ROUTINE_SCHEMA="gaoshuai";')])])])}),[],!1,null,null,null);_.default=t.exports}}]);