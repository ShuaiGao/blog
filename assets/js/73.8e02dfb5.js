(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{400:function(s,e,a){"use strict";a.r(e);var t=a(4),r=Object(t.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" docker")]),s._v(" "),e("h2",{attrs:{id:"_1-docker-介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-docker-介绍"}},[s._v("#")]),s._v(" 1. docker 介绍")]),s._v(" "),e("p",[s._v("Docker 是一个开源的应用容器引擎，基于 Go 语言 并遵从 Apache2.0 协议开源。")]),s._v(" "),e("p",[s._v("Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。")]),s._v(" "),e("p",[s._v("容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。")]),s._v(" "),e("p",[s._v("Docker 从 17.03 版本之后分为 CE（Community Edition: 社区版） 和 EE（Enterprise Edition: 企业版），我们用社区版就可以了。")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker 官网"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"https://docs.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker 文档"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"https://github.com/docker/docker-ce",target:"_blank",rel:"noopener noreferrer"}},[s._v("Github Docker 源码"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"_1-1-docker-的应用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-docker-的应用场景"}},[s._v("#")]),s._v(" 1.1 docker 的应用场景")]),s._v(" "),e("ul",[e("li",[s._v("Web 应用的自动打包和发布")]),s._v(" "),e("li",[s._v("自动化测试和持续集成、发布")]),s._v(" "),e("li",[s._v("在服务型环境中部署和调整数据库或其他的后台应用")])]),s._v(" "),e("h3",{attrs:{id:"_1-2-docker-优点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-docker-优点"}},[s._v("#")]),s._v(" 1.2 docker 优点")]),s._v(" "),e("p",[s._v("Docker 是一个用于开发，交付和运行应用程序的开放平台。Docker 使您能够将应用程序和基础架构分开，从而可以快速交付软件。借助 Docker，可以与管理应用程序相同的方式管理基础架构。通过利用 Docker 的方法来快速交付、测试和部署代码，可以大大减少编写代码和在生产环境中运行代码之间的延迟")]),s._v(" "),e("ul",[e("li",[s._v("快速、一致地交付应用程序")]),s._v(" "),e("li",[s._v("响应式部署和扩展，docker 是基于容器的平台，有高度的可移植性和轻量级的特性")]),s._v(" "),e("li",[s._v("基于虚拟机的管理提供了可行、经济、高效的解决方案，Docker 非常适合于高密度环境以及中小型快速部署")])]),s._v(" "),e("h3",{attrs:{id:"_1-3-主要概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-主要概念"}},[s._v("#")]),s._v(" 1.3 主要概念")]),s._v(" "),e("ul",[e("li",[s._v("Docker Images，镜像，用于创建 Docker 容器的模板")]),s._v(" "),e("li",[s._v("Docker Container，容器，是独立运行的一个或一组应用，是镜像运行的实体")]),s._v(" "),e("li",[s._v("Docker Client，客户端，通过命令行或其他工具与守护进程通信")]),s._v(" "),e("li",[s._v("Docker Host，主机，一个物理或者虚拟的机器用于执行 Docker 守护进程和容器")]),s._v(" "),e("li",[s._v("Docker Registry，镜像仓库，Docker Hub 提供了庞大的镜像集合")]),s._v(" "),e("li",[s._v("Docker Machine，命令行工具")])]),s._v(" "),e("h2",{attrs:{id:"_2-应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-应用"}},[s._v("#")]),s._v(" 2. 应用")]),s._v(" "),e("ol",[e("li",[s._v("hello world 测试")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker --version  #查看版本信息\ndocker run hello-world #运行hello-world镜像\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("启动 docker web 服务器")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ docker run --detach --publish=80:80 --name=webserver nginx\n\ndocker run --publish=3306:3306 --name=local_mysql -e MYSQL_ROOT_PASSWORD=123123 -d mysql:8.0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("--detach 后台运行容器")]),s._v(" "),e("li",[s._v("--publish 要求 Docker 将主机端口 80 上传入的流量转发到容器的 80 端口，容器具有自己的端口集")]),s._v(" "),e("li",[s._v("--name 给\n启动后可以在 web 浏览器中查看，输入地址 http://localhost/")])]),s._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[s._v("在 web 服务器运行时，查看容器上的详细信息")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker container ls\ndocker ps\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("使用以下命令停止并删除容器和镜像，使用"),e("em",[s._v("all")]),s._v("标志（--all 或-a）查看停止的容器")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ docker container ls\n$ docker container stop webserver\n$ docker container ls -a\n$ docker container rm webserver\n$ docker image ls\n$ docker images\n$ docker image rm nginx\n\n$ docker rm --force webserver # --force 可用来删除正在运行的容器\n\n$ docker container start webserber # 重新启动容器\n$ docker exec -it mydocker /bin/bash # 在容器内启动bash\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("ol",{attrs:{start:"5"}},[e("li",[s._v("其他命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('docker build -t friendlyhello .  # Create image using this directory\'s Dockerfile\ndocker run -p 4000:80 friendlyhello  # Run "friendlyname" mapping port 4000 to 80\ndocker run -d -p 4000:80 friendlyhello         # Same thing, but in detached mode\ndocker container ls                                # List all running containers\ndocker container ls -a             # List all containers, even those not running\ndocker container stop <hash>           # Gracefully stop the specified container\ndocker container kill <hash>         # Force shutdown of the specified container\ndocker container rm <hash>        # Remove specified container from this machine\ndocker container rm $(docker container ls -a -q)         # Remove all containers\ndocker image ls -a                             # List all images on this machine\ndocker image rm <image id>            # Remove specified image from this machine\ndocker image rm $(docker image ls -a -q)   # Remove all images from this machine\ndocker login             # Log in this CLI session using your Docker credentials\ndocker tag <image> username/repository:tag  # Tag <image> for upload to registry\ndocker push username/repository:tag            # Upload tagged image to registry\ndocker run username/repository:tag                   # Run image from a registry\ndocker search python\ndocker history python:latest                       #Show the history of an image\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("ol",{attrs:{start:"6"}},[e("li",[s._v("命令实例")])]),s._v(" "),e("p",[s._v("目录挂载，如下例：将宿主机目录./data 挂载到容器目录.../some_folder/.")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" ./data:/container_name/some_folder/ image_name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("指定工作目录：使用-w 参数，指定容器的工作目录为 /data")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" /data\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_3-创建镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建镜像"}},[s._v("#")]),s._v(" 3. 创建镜像")]),s._v(" "),e("p",[s._v("在 Docker 中创建镜像，最常用的方式就是使用 Dockerfile。Dockerfile 是一个 Docker 镜像的描述文件，其中包含了一条条指令，每一条指令构建一层，描述该层应当如何构建")]),s._v(" "),e("p",[s._v("看一个 Dockerfile 的例子")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('# 基于centos镜像\nFROM centos\n\n# 维护人的信息\nMAINTAINER the centos project <hello@qq.com>\n\n# 安装httpd软件包\nRUN yum -y update\nRUN yum -y install httpd\n\n# 开启80端口\nEXPOSE 80\n\n# 复制网站首页文件至镜像中web站点下\nADD index.html /var/www/html/index.html\n\n# 复制该节本至镜像中，并修改其权限\nADD run.sh /run.sh\nRUN chmod 775 /run.sh\n\n# 当启动容器时执行脚本\nCMD ["/run.sh"]\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("p",[s._v("从示例可以看出 Dockerfile 结构大致可以分为四部分：")]),s._v(" "),e("ol",[e("li",[s._v("基础镜像信息")]),s._v(" "),e("li",[s._v("维护者信息")]),s._v(" "),e("li",[s._v("镜像操作执行")]),s._v(" "),e("li",[s._v("容器启动时执行指令\nDockerfile 每行支持一条指令，每条指令可带多个参数，支持以#开头的注释")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 在当前路径构建docker\ndocker build -f mydockerfile -t mycentos:0.1 .\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("Dockerfile 语法")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("关键字")]),s._v(" "),e("th",[s._v("示例")]),s._v(" "),e("th",[s._v("说明")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("FROM")]),s._v(" "),e("td",[s._v("FROM centos:6")]),s._v(" "),e("td",[s._v("基于 centos 镜像，并指定版本信息")])]),s._v(" "),e("tr",[e("td",[s._v("MAINTAINER")]),s._v(" "),e("td",[s._v("MAINTAINER the centos project "),e("a",{attrs:{href:"mailto:hello@qq.com"}},[s._v("hello@qq.com")])]),s._v(" "),e("td",[s._v("说明维护者信息")])]),s._v(" "),e("tr",[e("td",[s._v("LABEL")]),s._v(" "),e("td",[s._v('LABEL maintainer="hello@qq.com"')]),s._v(" "),e("td",[s._v("说明维护者信息(推荐使用语法)")])]),s._v(" "),e("tr",[e("td",[s._v("RUN")]),s._v(" "),e("td",[s._v("RUN chmod 775 /run.sh "),e("br"),s._v(' RUN ["chmod", "775", "/run.sh"]')]),s._v(" "),e("td",[s._v("用于执行命令")])]),s._v(" "),e("tr",[e("td",[s._v("COPY")]),s._v(" "),e("td",[s._v("COPY ./start.sh /start/sh")]),s._v(" "),e("td",[s._v("拷贝文件或目录到镜像中")])]),s._v(" "),e("tr",[e("td",[s._v("ADD")]),s._v(" "),e("td",[s._v("ADD run.sh /run.sh"),e("br"),s._v(" ADD html.tar.gz /var/www/html "),e("br"),s._v(" ADD https://xxx.com/html.tar.gz /var/www/html")]),s._v(" "),e("td",[s._v("拷贝文件或目录到镜像中，如果是 URL 或压缩包会自动下载或解压")])]),s._v(" "),e("tr",[e("td",[s._v("WORKDIR")]),s._v(" "),e("td",[s._v("WORKDIR /data")]),s._v(" "),e("td",[s._v("为 RUN、CMD、ENTRYPOIN 以及 COPY 和 AND 设置工作目录，相当于 cd")])]),s._v(" "),e("tr",[e("td",[s._v("VOLUME")]),s._v(" "),e("td",[s._v('VOLUME ["/var/lib/mysql"]')]),s._v(" "),e("td",[s._v("指定容器挂载到宿主机的目录或其它容器")])]),s._v(" "),e("tr",[e("td",[s._v("EXPOSE")]),s._v(" "),e("td",[s._v("EXPOSE 80 443")]),s._v(" "),e("td",[s._v("打开指定端口，端口暴露给其他容器，不会暴露给主机")])]),s._v(" "),e("tr",[e("td",[s._v("ENV")]),s._v(" "),e("td",[s._v("ENV MYSQL_ROOT_PASSWORD 123456")]),s._v(" "),e("td",[s._v("设置环境变量")])]),s._v(" "),e("tr",[e("td",[s._v("CMD")]),s._v(" "),e("td",[s._v('CMD ["sh","/run.sh"]'),e("br"),s._v("CMD sh /run.sh")]),s._v(" "),e("td",[s._v("指定容器启动后要执行的命令这里执行"),e("em",[s._v("sh /run.sh")])])]),s._v(" "),e("tr",[e("td",[s._v("ENTRYPOINT")]),s._v(" "),e("td",[s._v("ENTRYPOINT /bin/bash -C '/start.sh'")]),s._v(" "),e("td",[s._v("启动容器时执行，与 CMD 类似。只是由 ENTRYPOINT 启动的程序不会被 docker run 命令行指定的参数所覆盖，而且，这些命令行参数会被当作参数传递给 ENTRYPOINT 指定指定的程序")])]),s._v(" "),e("tr",[e("td",[s._v("USER")]),s._v(" "),e("td",[s._v("USER user1")]),s._v(" "),e("td",[s._v("指定运行 shell 脚本的用户")])]),s._v(" "),e("tr",[e("td",[s._v("HEALTHCHECK")]),s._v(" "),e("td",[s._v("HEALTHCHECK --interval=5m \\ "),e("br"),s._v(" --timeout=3s --retries=3 \\ "),e("br"),s._v("CMD curl -f http::/localhost/ || exit 1")]),s._v(" "),e("td",[s._v("告诉 Docker 如何测试容器以检查它是否正常"),e("br"),s._v(" --interval 设置运行时间间隔"),e("br"),s._v("--timeout 服务响应超时时长"),e("br"),s._v("--start-period 服务启动多久后开始探测"),e("br"),s._v("--retries 认为检测失败几次为宕机"),e("br"),s._v("0: 容器健康，随时可以使用；"),e("br"),s._v("1：不健康的容器无法使用；"),e("br"),s._v("2：保留不使用此容器，退出代码。")])]),s._v(" "),e("tr",[e("td",[s._v("ARG")]),s._v(" "),e("td",[s._v("FROM centos:6"),e("br"),s._v("ARG user"),e("br"),s._v("USER $user"),e("br"),e("br"),e("code",[s._v("docker build --build-arg user=tony Dockerfile")])]),s._v(" "),e("td",[s._v("在构建镜像时指定一些参数")])])])]),s._v(" "),e("h2",{attrs:{id:"_4-docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-docker-compose"}},[s._v("#")]),s._v(" 4. docker-compose")]),s._v(" "),e("p",[s._v("Compose 是用于定义和运行多 Docker 容器应用程序的工具。通过 Compose 可以使用 YAML 文件来配置应用程序的服务。然后，使用一个命令，就可以从配置中创建并启动所有服务。Compose 可在所有环境中工作：生产，登台，开发，测试以及 CI 工作流。文档 https://docs.docker.com/compose/")]),s._v(" "),e("p",[s._v("使用 Compose 基本上可分为三个步骤：")]),s._v(" "),e("ol",[e("li",[s._v("通过 Dockerfile 定义应用环境，以便于重复应用")]),s._v(" "),e("li",[s._v("编写 docker-compose.yml 定义应用程序的服务，以便在隔离环境中一起运行")]),s._v(" "),e("li",[s._v("运行命令 "),e("em",[s._v("docker-compose up")]),s._v("，启动 Compose")])]),s._v(" "),e("p",[s._v("下面是一个 docker-compose.yml 配置文件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("version: "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2.0'")]),s._v("\nservices:\n  web:\n    build: "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n    ports:\n    - "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5000:5000"')]),s._v("\n    volumes:\n    - .:/code\n    - logvolume01:/var/log\n    links:\n    - redis\n  redis:\n    image: redis\nvolumes:\n  logvolume01: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("ul",[e("li",[s._v("Links: 将制定容器连接到当前连接，可以设置别名，避免 ip 方式导致的同期重启动态改变的情况无法连接")]),s._v(" "),e("li",[s._v("volumes：挂载制定目录到磁盘目录，语法是这样的：docker_dir:local_dir")])]),s._v(" "),e("p",[s._v("其他命令可使用 docker-compose help 查看。启动 Compose 时可以使用")]),s._v(" "),e("h2",{attrs:{id:"_5-yml-yaml-文件语法格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-yml-yaml-文件语法格式"}},[s._v("#")]),s._v(" 5. YML(YAML)文件语法格式")]),s._v(" "),e("p",[s._v("基本语法：使用空格索引控制层级关系，只要左侧对其，则都是统一级别，大小写敏感。\n值的写法：\n字面量值：数字、字符串、布尔值，字符串不用加引号，但 true 会认为是布尔值，而不是字符串\n对象：建：值。例")]),s._v(" "),e("div",{staticClass:"language-yml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("person")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" boot\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("age")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或使用行内写法，注释使用 # 开头")]),s._v("\nperson"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" boot"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("数组：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("animal:\n    -cat\n    -dog\n    -pig\n# 或\nanimal:[cat, dog, pig]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);